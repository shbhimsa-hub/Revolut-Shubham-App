name: {{ inventory_hostname }}
initial-advertise-peer-urls: http://{{ hostvars[inventory_hostname]['private_ip'] }}:2380
data-dir: /var/lib/etcd
listen-peer-urls: http://0.0.0.0:2380
listen-client-urls: http://0.0.0.0:2379
advertise-client-urls: http://{{ hostvars[inventory_hostname]['private_ip'] }}:2379
initial-cluster: "{% for host in groups['pg_nodes'] -%}{{ host }}=http://{{ hostvars[host]['private_ip'] }}:2380{% if not loop.last %},{% endif %}{%- endfor %}"
initial-cluster-state: new
